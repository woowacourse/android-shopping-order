# android-shopping-order

# step1 개별 장바구니 기능 요구사항

- [x] 데이터가 로딩되기 전 상태에서는 스켈레톤 UI를 노출한다.
  - [x] 상품 목록에 스켈레톤 UI를 적용한다.
  - [x] 장바구니 목록에 스켈레톤 UI를 적용한다.
- [x] 서버를 연동한다.
- [x] 사용자 인증 정보를 저장한다.
  - [x] 로그인 페이지를 통해 ID와 PW로 BasicKey를 계산한다.
    - [x] 로그인에 성공했을 경우만 BasicKey를 저장한다.
  - [x] 앱이 재실행 되어도 저장해둔 BasicKey를 통해 인증한다.

# step2 상품 추천 기능 요구사항

### 장바구니 목록
- [x] 장바구니 화면에서 특정 상품만 골라 주문하기 버튼을 누를 수 있다.
  - [x] 선택한 상품을 체크박스로 표시한다
- [x] 하단바의 전체 선택 체크박스를 통해 모든 장바구니 페이지의 아이템이 선택되어야 한다.
  - [x] 선택한 아이템의 전체 금액이 자동 합산되어 표시된다.
- [x] 체크한 아이템 수 만큼 장바구니 선택창 하단바의 주문하기 버튼에 표시된다.
  - [x] 체크 박스 변경시 연동되어 표시된다.
  - [ ] 체크한 아이템 수가 아닌 주문 예정인 전체 수량으로 표시한다.

### 추가상품 추천
- [x] 별도의 화면에서 상품 추천 알고리즘으로 사용자에게 적절한 상품을 추천해준다.
  - [x] 최근 본 상품 카테고리 아이템을 10개 노출하며 10개 미만이라면 가능한만큼 노출한다.
  - [x] 장바구니에 이미 추가된 상품은 필터링하여 노출시키지 않는다.
- [x] 추천된 상품을 해당 화면에서 바로 추가하여 같이 주문할 수 있다.
  - [x] 선택한 아이템을 장바구니 아이템 데이이터와 합산하여 총 주문 금액을 표시한다.
  - [x] 추천 상품을 추가하면 장바구니에 자동으로 추가한다.
- [x] 하단바의 전체 선택 체크박스가 숨겨진다.
- [x] 추가 상품 추천 목록에 스켈레톤 UI를 적용한다.
- [x] 장바구니 목록에서 체크한 아이템 수 만큼 장바구니 선택창 하단바의 주문하기 버튼에 표시된다.
  - [x] 추가 상품을 함꼐 담으면 수량이 실시간 연동되어 표시된다.
  - [x] 체크한 아이템 수가 아닌 주문 예정인 전체 수량을 표시한다.

  
### step3 코루틴 적용
- [x] 코루틴 적용

### step4 결제하기 - 쿠폰 적용
- [x] 쿠폰 타입별 도메인 로직 구현
  - [x] fixed - 고정값 쿠폰
  - [x] buyXgetY - 덤증정 쿠폰
  - [x] freeShipping - 배송비 쿠폰
  - [x] percentage - 백분율 할인 쿠폰
- [x] 결제하기 레이아웃을 표시한다
  - [x] 쿠폰 로드시 스켈레톤 UI를 적용한다.
- [x] 결제 화면에서 쿠폰을 적용하여 장바구니의 상품을 주문할 수 있다
  - [x] 배송비는 기본 3,000원이다.
  - [x] 쿠폰은 1개만 적용 가능하다.
    - [x] 다른 쿠폰을 선택시 이전 쿠폰이 자동 해제된다.
- [x] 결제하기 버튼을 누르면 바로 최종 주문이 완료된다.
  - [x] 결제하기 버튼을 누르면 주문이 완료되고 주문한 상품이 장바구니에서 제거된다.
  - [x] 최종 주문이 완료되면 상품 목록으로 이동과 함께 주문 완료 토스트 메시지를 노출한다.

### 리팩터링
- [ ] 테스트 코드 정상화 및 추가
- [ ] Result객체 에러 처리


# android-shopping-cart

# step1 상품 목록 기능 요구사항

- [x] 앱을 켜면 상품 목록이 표시된다.
    - [x] 상품 썸네일이 표시된다
    - [x] 상품 이름이 표시되며 말줄임표를 사용해 긴 상품명을 표시한다.
    - [x] 상품 가격이 천단위 구분기호 및 원 단위로 표시된다
- [x] 사용자는 상품 목록의 상품을 장바구니에 추가할 수 있다.
    - [x] 상품을 클릭하면 상품 상세로 이동한다.
    - [x] 상품 이미지가 표시된다.
    - [x] 상품 이름과 가격이 표시된다.
    - [x] 상품 상세에서 장바구니 담기 버튼을 클릭해 장바구니에 상품을 담을 수 있다.
    - [x] 상품 상세에서 앱바의 닫기 아이콘을 클릭해 상품 목록으로 돌아갈 수 있다.
- [x] 상단 앱바의 카트 아이콘을 클릭하면 장바구니로 이동한다.
- [x] 장바구니에서 원하는 상품을 삭제할 수 있다.
- [x] 장바구니에서 앱바의 뒤로 아이콘을 클릭해 상품 목록으로 돌아갈 수 있다.

# step2 데이터 로딩 기능 요구사항

- [x] 상품 목록에서 더보기 버튼을 눌러 추가 로드할 수 있다. (20개 기준)
- [x] 장바구니 목록은 페이지네이션이 되어야 한다. (5개 기준)

# step2 리뷰 반영

- [x] DB 이름을 BuildConfig에 적용
- [x] public 가시성 제한자 수정
- [x] GoodsDetailsActivity의 ViewModel 분리
- [x] GoodsAdapter에서 binding 객체 분리
- [x] CartRepository의 안드로이드 의존성 제거
- [x] 상품목록 더보기 버튼 표시에 ConcatAdapter 적용
- [x] 리사이클러 어댑터 갱신 로직에 insert/remove 적용
- [x] Cart가 스스로 Intent를 생성하도록 캡슐화
- [x] 테스트 코드 수정 및 패키지 구조 정리

# step3 상태 관리 기능 요구사항

- [x] 상품 목록에서 장바구니에 담을 상품의 수를 선택 할 수 있다.
    - [x] 버튼을 누르면 장바구니에 상품이 추가됨과 동시에 수량 선택 버튼이 노출된다.
    - [x] 상품 목록의 상품 수가 변화하면 장바구니에도 반영되어야 한다.
    - [x] 장바구니의 상품 수가 변화하면 상품 목록에도 반영되어야 한다.
    - [x] 앱바의 카트 아이콘 옆에 장바구니의 전체 상품 수량이 표시된다.
- [x] 장바구니에서 상품 수량을 변화시킬 수 있다.
    - [x] 수량이 0이 되면 닫기 버튼을 누른것과 같은 효과가 발생한다.
- [x] 상품 상세 화면에서 장바구니에 담을 상품의 수량을 선택 후 장바구니에 담을 수 있다.
    - [x] 장바구니 담기를 누르면 선택한 수량만큼 장바구니 속 수량에 더해진다.
    - [x] 장바구니 담기에 성공하면 수량 선택 뷰가 1로 되돌아온다. .

# step4 HTTP Client 기능 요구사항

- [x] 최근 본 상품이 있는 경우 상품 목록 상단에서 10개까지 확인할 수 있다.
    - [x] 최근 본 상품이 없는 경우 여백을 차지하지 않는다.
- [x] 상세 페이지에서 마지막으로 본 상품 섹션을 확인할 수 있다.
    - [x] 상세 페이지에서 마지막으로 본 상품 섹션을 클릭하면 마지막으로 본 상품 페이지로 이동한다
    - [x] 마지막으로 본 상품 페이지에서 뒤로 가기를 하면 상품 목록으로 이동한다.
    - [x] 마지막으로 본 상품 페이지에는 마지막으로 본 상품 섹션이 보이지 않는다.
- [x] 앱이 재시작돼도 최근 본 상품 목록과 장바구니 데이터는 유지돼야 한다.